<!doctype html>
<html lang="en">
	<head>
		<meta charset="UTF-8">
		<title id="blog_title"></title>
		
	</head>
	<body>
		<center>
		<div class="loading" id="spinner"></div>
		</center>
		<div id="all_content" style="display:none">
			<header>
				<div class="header"> 
					<div class="innerHeader">
						<img id="logo" src=""/> <div id="header_title"></div> 
					</div>
				</div>
			</header>
			<div class="wrapper">

				<div class="sidebar">
					<div class="sideWidget">
						<h2>Generate Database</h2>
						<input id="new" type="button" value="Create New" style="display:none"/><br>
						<input id="add" type="button" value="Add New Entry" onClick="addEntry()" /><br>
						<input id="update" type="button" value="Update Entry" style="display:none"/><br>
						<input type="button" value="Generate" onClick="generate()" /><br>
						<a href="" id="download" download="database.js">Download it</a>
					</div>
					<div class="spacer"></div>
					<div class="sideWidget">
						<h2>Contact Me</h2>
						<a href="" id="contact"></a>
					</div>
					<div class="spacer"></div>
					<div class="sideWidget">
						<h2>Archive</h2>
						<div id="archive"></div>
					</div>
					<div class="spacer"></div>
					<div class="sideWidget">
						<h2>Delete an Entry</h2>
						<div id="Entries"></div>
						<input type="button" id="delete" value="delete" name="delete"/>
					</div>
					<div class="spacer"></div>
					<div class="sideWidget">
						<div class="powerWrapper" onClick="window.location.href='http://github.com/NextWaves/Waves'">
							Powered by <div class="power" >
						</div></div>
					</div>
				</div>


				<div class="content">
					<div class="content_area" id="content_area">
						<div class="content_date" id="content_date"></div>
						<div class="content_title" id="content_title"></div>
						<hr> 
						<div class="content_text" id="content_text"></div>
						<div class="content_markdown" id="content_markdown" style="display:none"></div>
					</div>
				</div>


			</div>
			<footer></footer>
		</div>
		<div id="scripts"></div>

		<script>
			//Common settings for the blog
			var title="Waves Blog";
			var header_title="Waves Blog";
			var contact="bluewires@riseup.net";
			var domain="http://www.meshedsites.com/waves/";
			//may want to change this to prevent accidentally overwiting another database if you run multitple instances
			var databaseFile="database.js";
			var logo_img=domain+"/logo.png";





			//Do not edit any of this javascript unless you know what your doing.
			append('head', '<link rel="stylesheet" type="text/css" href="'+domain+'/blog.css">');
			//thanks to jQuery4u for the following code:
			// http://www.jquery4u.com/javascript/dynamically-load-jquery-library-javascript/
			edit=true;
			(function () {

			    function loadScript(url, callback) {

			        var script = document.createElement("script")
			        script.type = "text/javascript";

			        if (script.readyState) { //IE
			            script.onreadystatechange = function () {
			                if (script.readyState == "loaded" || script.readyState == "complete") {
			                    script.onreadystatechange = null;
			                    callback();
			                }
			            };
			        } else { //Others
			            script.onload = function () {
			                callback();
			            };
			        }

			        script.src = url;
			        document.getElementsByTagName("head")[0].appendChild(script);
			    }

			    loadScript(domain+"/jquery.js", function () {
			    	$("#logo").click(function(){
						window.location=domain+"/index.html";
					});
					loadScript(domain+"/marked.js", function () {
				    	loadScript(domain+"/" + databaseFile, function () {
				    		loadScript(domain+"/blog.js", function () {
				    			loadScript(domain+"/edit.js", function () {
				    				$("#spinner").hide();
			  						$("#all_content").show();
				     			});
				     		});
				     	});
				     });
			     });

			})();
			function append(tag, tag_data){
				var element = document.getElementsByTagName(tag)[0];
				element.innerHTML+=tag_data;
			}

		</script>
	</body>
</html>
